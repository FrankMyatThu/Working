<!DOCTYPE html>
<html ng-app="todos">

  <head>
    <link data-require="bootstrap-css@*" data-semver="3.3.1" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
    <script data-require="angular.js@*" data-semver="1.3.15" src="https://code.angularjs.org/1.3.15/angular.js"></script>
    <script data-require="ui-bootstrap@*" data-semver="0.12.1" src="ui-bootstrap-tpls.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script>
		var todos = angular.module('todos', ['ui.bootstrap']);

		todos.controller('TodoController', function($scope) {
		   $scope.filteredTodos = []
		  ,$scope.currentPage = 1
		  ,$scope.numPerPage = 10
		  ,$scope.maxSize = 5;
		  
		  $scope.makeTodos = function() {
			$scope.todos = [];
			for (i=1;i<=1000;i++) {
			  $scope.todos.push({ text:'todo '+i, done:false});
			}
		  };
		  $scope.makeTodos(); 
		  
		  $scope.$watch('currentPage + numPerPage', function() {
			var begin = (($scope.currentPage - 1) * $scope.numPerPage)
			, end = begin + $scope.numPerPage;
			
			$scope.filteredTodos = $scope.todos.slice(begin, end);
		  });
		});


	</script>
  </head>

  <body ng-controller="TodoController">
    <h1>Todos</h1>
    <h4>{{todos.length}} total</h4>
    <ul>
      <li ng-repeat="todo in filteredTodos">{{todo.text}}</li>
    </ul>
    <pagination 
      ng-model="currentPage"
      total-items="todos.length"
      max-size="maxSize"  
      boundary-links="true">
    </pagination>
  </body>

</html>
